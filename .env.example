# ============================================================================
# Variables de Entorno - WhatsApp API
# Copia este archivo a .env y ajusta los valores
# ============================================================================

# ============================================================================
# CONFIGURACIÓN BÁSICA
# ============================================================================

# Puerto donde correrá la API (interno del contenedor)
PORT=3000

# Puerto externo expuesto (mapeo Docker: EXTERNAL_PORT:3000)
# Cambia este valor si el puerto 3000 ya está en uso en tu host
EXTERNAL_PORT=3000

# Entorno (development, production)
NODE_ENV=production

# Zona horaria
TZ=America/Caracas

# ============================================================================
# SEGURIDAD
# ============================================================================

# API Key para autenticación (genera una clave segura)
# Genera con: openssl rand -hex 32
API_KEY=changeme-generate-a-secure-random-key-here

# Lista de IPs o dominios permitidos (separados por coma)
# Ejemplo: 192.168.1.100,tu-dominio.com
ALLOWED_ORIGINS=*

# ============================================================================
# DOCKER / NGINX (Opcional - solo si usas nginx)
# ============================================================================

# Puerto HTTP externo de Nginx (si usas el profile with-nginx)
NGINX_HTTP_PORT=80

# Puerto HTTPS externo de Nginx (si usas el profile with-nginx)
NGINX_HTTPS_PORT=443

# ============================================================================
# REDIS (Para sesiones compartidas - Docker)
# ============================================================================

# Host de Redis
REDIS_HOST=redis

# Puerto de Redis
REDIS_PORT=6379

# Password de Redis (opcional)
# REDIS_PASSWORD=tu-password-redis

# ============================================================================
# RATE LIMITING
# ============================================================================

# Máximo de requests por ventana de tiempo
MAX_REQUESTS=100

# Ventana de tiempo en minutos
RATE_LIMIT_WINDOW=15

# ============================================================================
# WHATSAPP / BAILEYS
# ============================================================================

# Nombre del navegador (aparece en WhatsApp Web)
BROWSER_NAME=Delphi Client

# Versión del navegador
BROWSER_VERSION=1.0.0

# Tiempo de espera para operaciones (segundos)
OPERATION_TIMEOUT=60

# Auto-reconexión
AUTO_RECONNECT=true

# Intervalo de keepalive (milisegundos)
KEEP_ALIVE_INTERVAL=10000

# ============================================================================
# LOGGING
# ============================================================================

# Nivel de log (error, warn, info, debug)
LOG_LEVEL=info

# Habilitar logs en archivo
FILE_LOGGING=true

# Directorio de logs
LOG_DIR=./logs

# ============================================================================
# BACKUP (Opcional)
# ============================================================================

# Habilitar backup automático de sesiones
AUTO_BACKUP=false

# Frecuencia de backup (horas)
BACKUP_INTERVAL=24

# Directorio de backups
BACKUP_DIR=./backups

# ============================================================================
# MONITOREO (Opcional)
# ============================================================================

# URL de webhook para notificaciones
# WEBHOOK_URL=https://tu-servidor.com/webhook

# Habilitar métricas de Prometheus
# ENABLE_METRICS=false
# METRICS_PORT=9090

# ============================================================================
# CONFIGURACIÓN AVANZADA
# ============================================================================

# Número máximo de reconexiones antes de parar
MAX_RECONNECT_ATTEMPTS=5

# Tiempo entre intentos de reconexión (segundos)
RECONNECT_DELAY=10

# Máximo tamaño de archivo permitido (bytes)
# 50MB = 52428800
MAX_FILE_SIZE=52428800

# ============================================================================
# DESARROLLO (Solo para testing)
# ============================================================================

# Imprimir QR en terminal
PRINT_QR_IN_TERMINAL=false

# Modo debug de Baileys
DEBUG_BAILEYS=false
